{"ast":null,"code":"var _jsxFileName = \"/home/clayton/Desktop/Dev/Authentication_Template/Authentication_Template/client/src/components/auth/SignUp.js\";\nimport React from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport { SIGNUP_USER } from '../../queries/index';\nimport Error from '../error';\nimport { withRouter } from 'react-router-dom';\nconst initialState = {\n  username: \"\",\n  email: \"\",\n  password: \"\",\n  passwordConfirmation: \"\"\n};\n\nclass Signup extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialState\n    };\n\n    this.clearState = () => {\n      this.setState({ ...initialState\n      });\n    };\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = (e, signUpUser) => {\n      e.preventDefault();\n      signUpUser().then(async ({\n        data\n      }) => {\n        console.log(data);\n        localStorage.setItem('token', data.signUpUser.token);\n        await this.props.refetch();\n        this.clearState();\n        this.props.history.push('/');\n      }).catch(err => {\n        console.log({\n          err\n        });\n      });\n    };\n\n    this.validateForm = () => {\n      const {\n        username,\n        email,\n        password,\n        passwordConfirmation\n      } = this.state;\n      const isInvalid = !username || !email || !password || password !== passwordConfirmation;\n      return isInvalid;\n    };\n  }\n\n  render() {\n    const {\n      username,\n      email,\n      password,\n      passwordConfirmation\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, \"Signup\"), /*#__PURE__*/React.createElement(Mutation, {\n      mutation: SIGNUP_USER,\n      variables: {\n        username,\n        email,\n        password\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, (signUpUser, {\n      data,\n      loading,\n      error\n    }) => {\n      return /*#__PURE__*/React.createElement(\"form\", {\n        className: \"form\",\n        onSubmit: e => this.handleSubmit(e, signUpUser),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        value: username,\n        onChange: this.handleChange,\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        value: email,\n        onChange: this.handleChange,\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email Address\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        value: password,\n        onChange: this.handleChange,\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        value: passwordConfirmation,\n        onChange: this.handleChange,\n        type: \"password\",\n        name: \"passwordConfirmation\",\n        placeholder: \"Confirm Passowrd\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        disabled: loading || this.validateForm(),\n        type: \"submit\",\n        className: \"button-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 33\n        }\n      }, \"Submit\"), error && /*#__PURE__*/React.createElement(Error, {\n        error: error,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 43\n        }\n      }));\n    }));\n  }\n\n}\n\nexport default withRouter(Signup);","map":{"version":3,"sources":["/home/clayton/Desktop/Dev/Authentication_Template/Authentication_Template/client/src/components/auth/SignUp.js"],"names":["React","Mutation","SIGNUP_USER","Error","withRouter","initialState","username","email","password","passwordConfirmation","Signup","Component","state","clearState","setState","handleChange","e","name","value","target","handleSubmit","signUpUser","preventDefault","then","data","console","log","localStorage","setItem","token","props","refetch","history","push","catch","err","validateForm","isInvalid","render","loading","error"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Mutation} from \"react-apollo\";\nimport {SIGNUP_USER} from '../../queries/index';\nimport Error from '../error';\nimport { withRouter } from 'react-router-dom';\n\nconst initialState = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\"\n}\n\nclass Signup extends React.Component{\n    state = {...initialState}\n    clearState = () =>{\n        this.setState({...initialState});\n    }\n\n    handleChange = (e)=>{\n        const { name, value } = e.target;\n        this.setState({[name]:value})\n    }\n\n    handleSubmit = (e, signUpUser)=>{\n        e.preventDefault();\n        signUpUser().then(async ({data}) => {\n            console.log(data)\n            localStorage.setItem('token', data.signUpUser.token);\n            await this.props.refetch();\n            this.clearState();\n            this.props.history.push('/');\n        }).catch((err)=>{\n            console.log({err})\n        })\n    }\n    validateForm = () =>{\n        const {username, email, password, passwordConfirmation} = this.state;\n        const isInvalid = !username || !email || !password || password !== passwordConfirmation;\n        return isInvalid;\n    }\n    render(){\n        const {username, email, password, passwordConfirmation} = this.state;\n        return(\n            <div className = \"App\">\n                <h2 className=\"form\">Signup</h2>\n                <Mutation mutation={SIGNUP_USER} variables={{username, email, password}}>\n                    {(signUpUser, {data, loading, error})=> {\n                        return (\n                            <form className=\"form\" onSubmit={e => this.handleSubmit(e, signUpUser)} >\n                                <input value={username} onChange={this.handleChange} type=\"text\" name=\"username\" placeholder=\"Username\"></input>\n                                <input value={email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Email Address\"></input>\n                                <input value={password} onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\"></input>\n                                <input value={passwordConfirmation} onChange={this.handleChange} type=\"password\" name=\"passwordConfirmation\" placeholder=\"Confirm Passowrd\"></input>\n                                <button disabled={loading || this.validateForm()} type=\"submit\" className=\"button-primary\">Submit</button>\n                                {error && <Error error ={error}/>}\n                            </form>\n                        )\n                    }}\n\n                </Mutation>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(Signup);"]},"metadata":{},"sourceType":"module"}